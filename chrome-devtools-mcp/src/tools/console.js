/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
import{zod as e}from"../third_party/index.js";import{ToolCategory as s}from"./categories.js";import{defineTool as a}from"./ToolDefinition.js";export const listConsoleMessages=a({name:"list_console_messages",description:"List all console messages for the currently selected page since the last navigation.",annotations:{category:s.DEBUGGING,readOnlyHint:!0},schema:{pageSize:e.number().int().positive().optional().describe("Maximum number of messages to return. When omitted, returns all requests."),pageIdx:e.number().int().min(0).optional().describe("Page number to return (0-based). When omitted, returns the first page."),types:e.array(e.enum(["log","debug","info","error","warn","dir","dirxml","table","trace","clear","startGroup","startGroupCollapsed","endGroup","assert","profile","profileEnd","count","timeEnd","verbose","issue"])).optional().describe("Filter messages to only return messages of the specified resource types. When omitted or empty, returns all messages."),includePreservedMessages:e.boolean().default(!1).optional().describe("Set to true to return the preserved messages over the last 3 navigations."),savePath:e.string().optional().describe("File path to save console messages. When provided, messages are saved to this file.")},handler:async(e,s)=>{s.setIncludeConsoleData(!0,{pageSize:e.params.pageSize,pageIdx:e.params.pageIdx,types:e.params.types,includePreservedMessages:e.params.includePreservedMessages,savePath:e.params.savePath})}});export const getConsoleMessage=a({name:"get_console_message",description:`Gets a console message by its ID. You can get all messages by calling ${listConsoleMessages.name}.`,annotations:{category:s.DEBUGGING,readOnlyHint:!0},schema:{msgid:e.number().describe("The msgid of a console message on the page from the listed console messages")},handler:async(e,s)=>{s.attachConsoleMessage(e.params.msgid)}});